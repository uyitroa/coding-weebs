{"ast":null,"code":"var _jsxFileName = \"/Users/yuitora./git_stuff/fruit_recognition/frontend/fruitai/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Camera, { FACING_MODES, IMAGE_TYPES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\nimport ImagePreview from './ImagePreview';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App(props) {\n  _s();\n  const [dataUri, setDataUri] = useState('');\n  var sendBase64ToServer = function (base64) {\n    var httpPost = new XMLHttpRequest(),\n      path = \"https://138.195.242.46:8080/send/\",\n      data = JSON.stringify({\n        image: base64\n      });\n    httpPost.onreadystatechange = function (err) {\n      console.log(\"sent\");\n      if (httpPost.readyState == 4 && httpPost.status == 200) {\n        setDataUri(httpPost.response);\n      } else {\n        console.log(err);\n      }\n    };\n    console.log(\"enterd\");\n    // httpPost.setHeader('Content-Type', 'application/json');\n    httpPost.open(\"POST\", path, true);\n    console.log('zzzz');\n    httpPost.send(data);\n  };\n  async function handleTakePhoto(dataUri) {\n    console.log(\"hello\");\n    sendBase64ToServer(dataUri);\n  }\n  const isFullscreen = false;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: dataUri ? /*#__PURE__*/_jsxDEV(ImagePreview, {\n      dataUri: dataUri,\n      isFullscreen: isFullscreen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Camera, {\n      onTakePhotoAnimationDone: handleTakePhoto,\n      isFullscreen: isFullscreen,\n      idealFacingMode: FACING_MODES.ENVIRONMENT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"Z+NO0UjgWFHHSvRZi/lJ6Qa6p4o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Camera","FACING_MODES","IMAGE_TYPES","ImagePreview","App","props","dataUri","setDataUri","sendBase64ToServer","base64","httpPost","XMLHttpRequest","path","data","JSON","stringify","image","onreadystatechange","err","console","log","readyState","status","response","open","send","handleTakePhoto","isFullscreen","ENVIRONMENT"],"sources":["/Users/yuitora./git_stuff/fruit_recognition/frontend/fruitai/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Camera, { FACING_MODES, IMAGE_TYPES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\nimport ImagePreview from './ImagePreview';\n\n\n\nfunction App (props) {\n  const [dataUri, setDataUri] = useState('');\n\n  var sendBase64ToServer = function(base64){\n    var httpPost = new XMLHttpRequest(),\n        path = \"https://138.195.242.46:8080/send/\",\n        data = JSON.stringify({image: base64});\n    httpPost.onreadystatechange = function(err) {\n      console.log(\"sent\")\n      if (httpPost.readyState == 4 && httpPost.status == 200) {\n        setDataUri(httpPost.response);\n      } else {\n        console.log(err);\n      }\n    };\n    console.log(\"enterd\");\n    // httpPost.setHeader('Content-Type', 'application/json');\n    httpPost.open(\"POST\", path, true);\n    console.log('zzzz');\n    httpPost.send(data);\n  };\n\n  async function handleTakePhoto (dataUri) {\n    console.log(\"hello\")\n    sendBase64ToServer(dataUri)\n\n  }\n\n  const isFullscreen = false;\n  return (\n      <div>\n        {\n          (dataUri)\n              ? <ImagePreview dataUri={dataUri}\n                              isFullscreen={isFullscreen}\n              />\n              : <Camera onTakePhotoAnimationDone = {handleTakePhoto}\n                        isFullscreen={isFullscreen}\n                        idealFacingMode={FACING_MODES.ENVIRONMENT}\n              />\n        }\n      </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,MAAM,IAAIC,YAAY,EAAEC,WAAW,QAAQ,0BAA0B;AAC5E,OAAO,8CAA8C;AACrD,OAAOC,YAAY,MAAM,gBAAgB;AAAC;AAI1C,SAASC,GAAG,CAAEC,KAAK,EAAE;EAAA;EACnB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAE1C,IAAIS,kBAAkB,GAAG,UAASC,MAAM,EAAC;IACvC,IAAIC,QAAQ,GAAG,IAAIC,cAAc,EAAE;MAC/BC,IAAI,GAAG,mCAAmC;MAC1CC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAC;QAACC,KAAK,EAAEP;MAAM,CAAC,CAAC;IAC1CC,QAAQ,CAACO,kBAAkB,GAAG,UAASC,GAAG,EAAE;MAC1CC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,IAAIV,QAAQ,CAACW,UAAU,IAAI,CAAC,IAAIX,QAAQ,CAACY,MAAM,IAAI,GAAG,EAAE;QACtDf,UAAU,CAACG,QAAQ,CAACa,QAAQ,CAAC;MAC/B,CAAC,MAAM;QACLJ,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF,CAAC;IACDC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrB;IACAV,QAAQ,CAACc,IAAI,CAAC,MAAM,EAAEZ,IAAI,EAAE,IAAI,CAAC;IACjCO,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnBV,QAAQ,CAACe,IAAI,CAACZ,IAAI,CAAC;EACrB,CAAC;EAED,eAAea,eAAe,CAAEpB,OAAO,EAAE;IACvCa,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACpBZ,kBAAkB,CAACF,OAAO,CAAC;EAE7B;EAEA,MAAMqB,YAAY,GAAG,KAAK;EAC1B,oBACI;IAAA,UAEKrB,OAAO,gBACF,QAAC,YAAY;MAAC,OAAO,EAAEA,OAAQ;MACjB,YAAY,EAAEqB;IAAa;MAAA;MAAA;MAAA;IAAA,QACzC,gBACA,QAAC,MAAM;MAAC,wBAAwB,EAAID,eAAgB;MAC5C,YAAY,EAAEC,YAAa;MAC3B,eAAe,EAAE1B,YAAY,CAAC2B;IAAY;MAAA;MAAA;MAAA;IAAA;EAClD;IAAA;IAAA;IAAA;EAAA,QAEJ;AAEZ;AAAC,GA3CQxB,GAAG;AAAA,KAAHA,GAAG;AA6CZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}