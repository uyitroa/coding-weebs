{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yuitora./fruitai_website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yuitora./fruitai_website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/yuitora./fruitai_website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Camera,{FACING_MODES,IMAGE_TYPES}from'react-html5-camera-photo';import'react-html5-camera-photo/build/css/index.css';import ImagePreview from'./ImagePreview';import{jsx as _jsx}from\"react/jsx-runtime\";function App(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),dataUri=_useState2[0],setDataUri=_useState2[1];var sendBase64ToServer=function sendBase64ToServer(base64){var httpPost=new XMLHttpRequest(),path=\"https://fbd9-138-195-44-21.ngrok.io/send/\",data=JSON.stringify({image:base64});httpPost.onreadystatechange=function(err){console.log(\"sent\");if(httpPost.readyState==4&&httpPost.status==200){setDataUri(httpPost.response);}else{console.log(err);}};console.log(\"enterd\");// httpPost.setHeader('Content-Type', 'application/json');\nhttpPost.open(\"POST\",path,true);console.log('zzzz');httpPost.send(data);};function handleTakePhoto(_x){return _handleTakePhoto.apply(this,arguments);}function _handleTakePhoto(){_handleTakePhoto=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataUri){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"hello\");sendBase64ToServer(dataUri);case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleTakePhoto.apply(this,arguments);}var isFullscreen=false;return/*#__PURE__*/_jsx(\"div\",{children:dataUri?/*#__PURE__*/_jsx(ImagePreview,{dataUri:dataUri,isFullscreen:isFullscreen}):/*#__PURE__*/_jsx(Camera,{onTakePhotoAnimationDone:handleTakePhoto,isFullscreen:isFullscreen,idealFacingMode:FACING_MODES.ENVIRONMENT})});}export default App;","map":{"version":3,"names":["React","useState","Camera","FACING_MODES","IMAGE_TYPES","ImagePreview","App","props","dataUri","setDataUri","sendBase64ToServer","base64","httpPost","XMLHttpRequest","path","data","JSON","stringify","image","onreadystatechange","err","console","log","readyState","status","response","open","send","handleTakePhoto","isFullscreen","ENVIRONMENT"],"sources":["/Users/yuitora./fruitai_website/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Camera, { FACING_MODES, IMAGE_TYPES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\nimport ImagePreview from './ImagePreview';\n\n\n\nfunction App (props) {\n  const [dataUri, setDataUri] = useState('');\n\n  var sendBase64ToServer = function(base64){\n    var httpPost = new XMLHttpRequest(),\n        path = \"https://fbd9-138-195-44-21.ngrok.io/send/\",\n        data = JSON.stringify({image: base64});\n    httpPost.onreadystatechange = function(err) {\n      console.log(\"sent\")\n      if (httpPost.readyState == 4 && httpPost.status == 200) {\n        setDataUri(httpPost.response);\n      } else {\n        console.log(err);\n      }\n    };\n    console.log(\"enterd\");\n    // httpPost.setHeader('Content-Type', 'application/json');\n    httpPost.open(\"POST\", path, true);\n    console.log('zzzz');\n    httpPost.send(data);\n  };\n\n  async function handleTakePhoto (dataUri) {\n    console.log(\"hello\")\n    sendBase64ToServer(dataUri)\n\n  }\n\n  const isFullscreen = false;\n  return (\n      <div>\n        {\n          (dataUri)\n              ? <ImagePreview dataUri={dataUri}\n                              isFullscreen={isFullscreen}\n              />\n              : <Camera onTakePhotoAnimationDone = {handleTakePhoto}\n                        isFullscreen={isFullscreen}\n                        idealFacingMode={FACING_MODES.ENVIRONMENT}\n              />\n        }\n      </div>\n  );\n}\n\nexport default App;\n"],"mappings":"+WAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,OAAM,EAAIC,YAAY,CAAEC,WAAW,KAAQ,0BAA0B,CAC5E,MAAO,8CAA8C,CACrD,MAAOC,aAAY,KAAM,gBAAgB,CAAC,2CAI1C,QAASC,IAAG,CAAEC,KAAK,CAAE,CACnB,cAA8BN,QAAQ,CAAC,EAAE,CAAC,wCAAnCO,OAAO,eAAEC,UAAU,eAE1B,GAAIC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAYC,MAAM,CAAC,CACvC,GAAIC,SAAQ,CAAG,GAAIC,eAAc,EAAE,CAC/BC,IAAI,CAAG,2CAA2C,CAClDC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAAC,CAACC,KAAK,CAAEP,MAAM,CAAC,CAAC,CAC1CC,QAAQ,CAACO,kBAAkB,CAAG,SAASC,GAAG,CAAE,CAC1CC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CACnB,GAAIV,QAAQ,CAACW,UAAU,EAAI,CAAC,EAAIX,QAAQ,CAACY,MAAM,EAAI,GAAG,CAAE,CACtDf,UAAU,CAACG,QAAQ,CAACa,QAAQ,CAAC,CAC/B,CAAC,IAAM,CACLJ,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CACF,CAAC,CACDC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrB;AACAV,QAAQ,CAACc,IAAI,CAAC,MAAM,CAAEZ,IAAI,CAAE,IAAI,CAAC,CACjCO,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CACnBV,QAAQ,CAACe,IAAI,CAACZ,IAAI,CAAC,CACrB,CAAC,CAAC,QAEaa,gBAAe,2JAA9B,iBAAgCpB,OAAO,oHACrCa,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACpBZ,kBAAkB,CAACF,OAAO,CAAC,uDAE5B,kDAED,GAAMqB,aAAY,CAAG,KAAK,CAC1B,mBACI,qBAEKrB,OAAO,cACF,KAAC,YAAY,EAAC,OAAO,CAAEA,OAAQ,CACjB,YAAY,CAAEqB,YAAa,EACzC,cACA,KAAC,MAAM,EAAC,wBAAwB,CAAID,eAAgB,CAC5C,YAAY,CAAEC,YAAa,CAC3B,eAAe,CAAE1B,YAAY,CAAC2B,WAAY,EAClD,EAEJ,CAEZ,CAEA,cAAexB,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}